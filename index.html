<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Minha To‑Do List</title>

  <style>
    :root{
      --bg:#0f172a;        /* fundo */
      --panel:#111827;     /* cartão */
      --text:#e5e7eb;      /* texto */
      --muted:#94a3b8;     /* texto fraco */
      --accent:#22c55e;    /* verde */
      --accent-2:#3b82f6;  /* azul */
      --danger:#ef4444;    /* vermelho */
      --border:#1f2937;    /* borda */
    }

    *{box-sizing:border-box}
    html,body{
      height:100%;
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      background:var(--bg);
      color:var(--text);
    }

    .wrap{
      min-height:100%;
      display:grid;
      place-items:center;
      padding:32px 16px;
    }

    .card{
      width:100%;
      max-width:640px;
      background:var(--panel);
      border:1px solid var(--border);
      border-radius:18px;
      padding:24px;
      box-shadow: 0 8px 30px rgba(0,0,0,.35);
    }

    h1{
      margin:0 0 16px;
      font-weight:800;
      letter-spacing:.3px;
      display:flex;
      align-items:center;
      gap:10px;
      font-size:clamp(22px, 3.2vw, 28px);
    }
    h1 .dot{width:10px;height:10px;border-radius:999px;background:var(--accent)}

    .row{
      display:flex;
      gap:10px;
      margin:10px 0 18px;
    }
    input[type="text"]{
      flex:1;
      background:#0b1220;
      color:var(--text);
      border:1px solid var(--border);
      border-radius:12px;
      padding:14px 12px;
      outline:none;
    }
    input::placeholder{color:var(--muted)}
    button{
      border:0;
      border-radius:12px;
      padding:14px 16px;
      font-weight:600;
      cursor:pointer;
    }
    .btn-primary{ background:var(--accent-2); color:white }
    .btn-primary:hover{ filter:brightness(1.05) }
    .btn-ghost{ background:transparent; color:var(--muted) }

    ul{
      list-style:none;
      margin:0; padding:0;
      display:flex; flex-direction:column; gap:8px;
    }
    li{
      display:flex;
      align-items:center;
      gap:12px;
      background:#0b1220;
      border:1px solid var(--border);
      border-radius:12px;
      padding:12px;
      transition:.15s ease;
    }
    li:hover{ border-color:#2a364a }
    .task-text{ flex:1; line-height:1.35 }
    .task-text.done{ color:var(--muted); text-decoration: line-through; }
    .actions{ display:flex; gap:6px }
    .icon{
      width:36px; height:36px; display:grid; place-items:center;
      border-radius:10px; background:#0e1627; color:#cbd5e1; border:1px solid var(--border);
    }
    .icon:hover{ filter:brightness(1.25) }
    .icon.delete{ color:white; background:var(--danger); border-color:transparent }

    .footer{
      margin-top:14px; font-size:12px; color:var(--muted);
      display:flex; justify-content:space-between; align-items:center; gap:8px; flex-wrap:wrap;
    }
    .filter{ display:flex; gap:6px }
    .chip{
      padding:6px 10px; border:1px solid var(--border); border-radius:999px; cursor:pointer; color:var(--muted);
      background:#0b1220; font-size:12px;
    }
    .chip.active{ border-color:var(--accent-2); color:white }

    @media (max-width:480px){
      .row{ flex-direction:column }
      button{ width:100% }
    }
/* edição inline */
.task-edit {
  flex: 1;
  background: var(--panel);
  color: var(--text);
  border: 1px solid var(--brand);
  border-radius: 10px;
  padding: 6px 8px;
  outline: none;
}
.icon {
  background: transparent;
  border: 1px solid var(--border);
  color: var(--text);
  border-radius: 10px;
  padding: 6px 10px;
  cursor: pointer;
}
.icon:hover { border-color: var(--brand); color: var(--brand); }
  </style>
</head>
<body>
  <main class="wrap">
    <section class="card">
      <h1><span class="dot"></span> Minha To‑Do List</h1>

    <input id="taskInput" type="text" placeholder="Nova tarefa" autocomplete="off" onkeydown="if(event.key==='Enter') addTask()" />
<button id="addBtn" class="btn-primary" type="button" onclick="addTask()">Adicionar</button>
      </div>

      <ul id="task-list"></ul>

      <div class="footer">
        <div id="count">0 tarefa(s)</div>
        <div class="filter">
      <div class="filter">
  <button class="chip active" data-filter="all" onclick="setFilter('all')">Todas</button>
  <button class="chip" data-filter="open" onclick="setFilter('open')">Abertas</button>
  <button class="chip" data-filter="done" onclick="setFilter('done')">Concluídas</button>
</div>

<button id="clear-done" class="btn-ghost" onclick="clearCompleted()">Limpar concluídas</button>
  </main>

  <script>
    // ----- Persistência -----
    const STORAGE_KEY = "todo-list-v1";
    const load = () => JSON.parse(localStorage.getItem(STORAGE_KEY) || "[]");
    const save = (items) => localStorage.setItem(STORAGE_KEY, JSON.stringify(items));

    // ----- Estado -----
    let tasks = load();          // [{ id, text, done }]
    let currentFilter = "all";   // all | open | done

    // ----- Elementos -----
    const input  = document.getElementById("task-input");
    const addBtn = document.getElementById("add-btn");
    const listEl = document.getElementById("task-list");
    const countEl= document.getElementById("count");
    const clearDoneBtn = document.getElementById("clear-done");
    const filterChips = [...document.querySelectorAll(".chip")];

    // ----- Funções -----
    function render(){
      listEl.innerHTML = "";
      const filtered = tasks.filter(t => {
        if(currentFilter === "open") return !t.done;
        if(currentFilter === "done") return  t.done;
        return true;
      });

      filtered.forEach(task => {
        const li = document.createElement("li");

        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.checked = task.done;
        checkbox.addEventListener("change", () => toggle(task.id));

        const span = document.createElement("span");
        span.className = "task-text" + (task.done ? " done" : "");
        span.textContent = task.text;

        const actions = document.createElement("div");
        actions.className = "actions";

        const del = document.createElement("button");
        del.className = "icon delete";
        del.title = "Remover";
        del.innerHTML = "✕";
        del.addEventListener("click", () => removeTask(task.id));

        actions.appendChild(del);

        li.appendChild(checkbox);
        li.appendChild(span);
        li.appendChild(actions);
        listEl.appendChild(li);
      });
}   // <-- aqui fecha a função render() (linha 222)

// Função para trocar o filtro ativo
function setFilter(filter) {
  currentFilter = filter;
  render();

  // remove o "active" de todos os botões
  document.querySelectorAll(".filter .chip").forEach(btn => {
    btn.classList.remove("active");
  });

  // adiciona o "active" no botão clicado
  const activeBtn = document.querySelector(.filter .chip[data-filter="${filter}"]);
  if (activeBtn) {
    activeBtn.classList.add("active");
  }
      const openCount = tasks.filter(t => !t.done).length;
      countEl.textContent = ${openCount} tarefa(s);
      save(tasks);
    }

function addTask() {
    const text = input.value.trim();  // pega o valor digitado e remove espaços extras
    if (!text) return;  // se estiver vazio, sai da função

    // cria um objeto tarefa
    tasks.push({
        id: Date.now(),   // id único baseado na data/hora
        text,             // texto digitado
        done: false       // começa como "não concluída"
    });

    input.value = "";   // limpa o campo de texto depois de adicionar
    save(tasks);        // salva a lista (caso você esteja usando localStorage)
    render();           // atualiza a tela
}

    function toggle(id){
      const t = tasks.find(x => x.id === id);
      if(t){ t.done = !t.done; render(); }
    }

    function removeTask(id){
      tasks = tasks.filter(t => t.id !== id);
      render();
    }

    function clearDone(){
      tasks = tasks.filter(t => !t.done);
      render();
    }

    function setFilter(f){
      currentFilter = f;
      filterChips.forEach(c => c.classList.toggle("active", c.dataset.filter === f));
      render();
    }

    // ----- Eventos -----
    addBtn.addEventListener("click", addTask);
    input.addEventListener("keydown", (e) => { if(e.key === "Enter") addTask(); });
    clearDoneBtn.addEventListener("click", clearDone);
    filterChips.forEach(c => c.addEventListener("click", () => setFilter(c.dataset.filter)));

    // Primeiro render
    render();
  </script>
</body>
</html>
